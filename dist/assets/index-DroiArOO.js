(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function o(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(e){if(e.ep)return;e.ep=!0;const i=o(e);fetch(e.href,i)}})();function _(n){const t=JSON.stringify(n);window.localStorage.setItem("todoList",t)}function E(){const n=window.localStorage.getItem("todoList");if(n)try{const t=JSON.parse(n);return Array.isArray(t)?t:[]}catch{return[]}return[]}const O=document.querySelector("#todos_add_form"),u=document.querySelector("#todo_name"),a=document.querySelector("#todo_is_important"),f=document.querySelector("#open_todos_list"),m=document.querySelector("#closed_todos_list");function p(){const n=document.createElement("BUTTON");return n.innerHTML="x",n}let s=E();O.addEventListener("submit",h);function h(n){n.preventDefault();let t=u.value.trim();if(t.length===0)return;const o={todoName:t,isDone:!1,isImportant:a.checked,id:`todo-${Date.now()}-${Math.floor(Math.random()*9999)}`};s.push(o),l(),u.value="",a.checked=!1,c()}function l(){_(s)}function c(){f.innerHTML="",m.innerHTML="",s.filter(o=>!o.isDone).forEach(o=>{const r=document.createElement("LI");r.innerHTML=o.todoName,o.isImportant&&r.classList.add("todo-is-important"),r.addEventListener("click",()=>T(o.id));const e=p();e.addEventListener("click",()=>L(o.id)),r.appendChild(e),f.appendChild(r)}),s.filter(o=>o.isDone).forEach(o=>{const r=document.createElement("LI");r.innerHTML=o.todoName,r.classList.add("todo-done"),r.addEventListener("click",()=>T(o.id));const e=p();e.addEventListener("click",()=>L(o.id)),r.appendChild(e),m.appendChild(r)})}function L(n){s=s.filter(t=>t.id!==n),l(),c()}function T(n){s=s.map(t=>(t.id===n&&(t.isDone=!t.isDone),t)),l(),c()}c();
